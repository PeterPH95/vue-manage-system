(function(){var e={1944:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return m}});var n=function(){var e=this,t=e._self._c;return t("el-row",[t("el-col",{staticStyle:{padding:"0 10px"},attrs:{span:8}},[t("el-card",{staticClass:"box-card",attrs:{shadow:"hover"}},[t("div",{staticClass:"user"},[t("img",{attrs:{src:a(4353),alt:""}}),t("div",{staticClass:"user-info"},[t("p",{staticClass:"name"},[e._v(e._s(e.loginData.name))]),t("p",{staticClass:"access"},[e._v(e._s(e.loginData.role))])])]),t("div",{staticClass:"login-info"},[t("p",[e._v("登陆的时间："),t("span",[e._v(e._s(e.loginData.time))])]),t("p",[e._v("登陆的地点："),t("span",[e._v(e._s(e.loginData.addr))])])])]),t("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"20px",height:"450px"},attrs:{shadow:"hover"}},[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:""}},e._l(e.tableLabel,(function(e,a){return t("el-table-column",{key:a,attrs:{prop:a,label:e}})})),1)],1)],1),t("el-col",{staticStyle:{padding:"0 10px"},attrs:{span:16}},[t("div",{staticClass:"num"},e._l(e.countData,(function(a){return t("el-card",{key:a.name,attrs:{shadow:"hover","body-style":{display:"flex",padding:0}}},[t("i",{staticClass:"icon",class:`el-icon-${a.icon}`,style:{background:a.color}}),t("div",{staticClass:"detail"},[t("p",{staticClass:"value"},[e._v("￥ "+e._s(a.value))]),t("p",{staticClass:"desp"},[e._v(e._s(a.name))])])])})),1),t("el-card",{staticClass:"box-card",staticStyle:{height:"270px"},attrs:{shadow:"hover"}},[t("div",{ref:"echarts1",staticStyle:{height:"270px"}})]),t("div",{staticClass:"graph"},[t("el-card",{staticClass:"box-card",attrs:{shadow:"hover"}},[t("div",{ref:"echarts2",staticStyle:{height:"250px"}})]),t("el-card",{staticClass:"box-card",attrs:{shadow:"hover"}},[t("div",{ref:"echarts3",staticStyle:{height:"240px"}})])],1)],1)],1)},s=[],r=(a(7658),a(586)),o=a(347),l=a(3822),i={data(){return{tableData:[],tableLabel:{name:"品牌",todayBuy:"今日销量",monthBuy:"本月销量",totalBuy:"总销量"},countData:[{name:"今日支付订单",value:6666,icon:"success",color:"#2ec7c9"},{name:"今日收藏订单",value:666,icon:"star-on",color:"#ffb980"},{name:"今日未支付订单",value:6666,icon:"s-goods",color:"#5ab1ef"},{name:"本月支付订单",value:6666,icon:"success",color:"#2ec7c9"},{name:"本月收藏订单",value:666,icon:"star-on",color:"#ffb980"},{name:"本月未支付订单",value:6666,icon:"s-goods",color:"#5ab1ef"}]}},computed:{...(0,l.rn)({userLoginData:e=>e.user.userLoginData}),loginData(){return JSON.parse(sessionStorage.getItem("userLoginData"))||this.userLoginData}},mounted(){(0,r.Yu)().then((e=>{let{data:t}=e;const{tableData:a,userData:n,videoData:s}=t.data;this.tableData=a;var r=o.S1(this.$refs.echarts1);const l=t.data.orderData,i=Object.keys(l.data[0]),u=[];i.forEach((e=>{u.push({name:e,type:"line",data:l.data.map((t=>t[e]))})}));const c={legend:{data:i},xAxis:{data:l.date},yAxis:{},series:u};r.setOption(c);var d=o.S1(this.$refs.echarts2);const m={legend:{textStyle:{color:"#333"}},grid:{},tooltip:{trigger:"axis"},xAxis:{type:"category",data:n.map((e=>e.date))},yAxis:{},color:["#2ec7c9","#b6a2de"],series:[{name:"新增用户",data:n.map((e=>e.new)),type:"bar"},{name:"活跃用户",data:n.map((e=>e.active)),type:"bar"}]};d.setOption(m);var p=o.S1(this.$refs.echarts3);const g={series:[{type:"pie",data:s}]};p.setOption(g)}))}},u=i,c=a(1001),d=(0,c.Z)(u,n,s,!1,null,"0f8851f4",null),m=d.exports},6098:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return m}});var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"bg"},[t("el-form",{ref:"userForm",staticClass:"login-container",attrs:{"label-width":"70px",inline:!0,model:e.userForm,rules:e.rules}},[t("h3",{staticClass:"login_title"},[e._v(e._s(e.$t("common.sign-in"))+" "),t("el-dropdown",{staticClass:"language",on:{command:e.handleSelect}},[t("span",[e._v(" "+e._s(this.language)+" "),t("i",{staticClass:"el-icon-arrow-down"})]),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",{attrs:{command:"zh"}},[e._v("简体中文")]),t("el-dropdown-item",{attrs:{command:"en"}},[e._v("English")])],1)],1)],1),t("el-form-item",{attrs:{label:"用户名",prop:"username"}},[t("el-input",{attrs:{placeholder:"请输入账号"},model:{value:e.userForm.username,callback:function(t){e.$set(e.userForm,"username",t)},expression:"userForm.username"}})],1),t("el-form-item",{attrs:{label:"密码",prop:"password"}},[t("el-input",{attrs:{type:"password",placeholder:"请输入密码"},on:{change:e.submit},model:{value:e.userForm.password,callback:function(t){e.$set(e.userForm,"password",t)},expression:"userForm.password"}})],1),t("el-button",{staticClass:"login-submit",attrs:{type:"primary"},on:{click:e.submit}},[e._v(e._s(e.$t("common.login")))])],1)],1)},s=[],r=(a(7658),a(680)),o=a(586),l=a(3822),i={data(){return{userForm:{username:"",password:""},rules:{username:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},language:"简体中文"}},computed:{},methods:{...(0,l.OI)(["setLoginData","setLanguage","setLanguage","setPerms"]),handleSelect(e){"zh"===e?(this.$i18n.locale="zh",this.language="简体中文"):(this.$i18n.locale="en",this.language="English")},submit(){this.$refs.userForm.validate((e=>{e&&(0,o.r7)(this.userForm).then((e=>{let{data:t}=e;2e4===t.code?(r.Z.set("token",t.data.token),(0,o.am)().then((e=>{console.log(e),this.setLoginData({username:this.userForm.username,menu:t.data.menu,address:e.data.data.address,language:this.language})})).catch((e=>{console.log("获取地址的端口挂了",e),this.setLoginData({username:this.userForm.username,menu:t.data.menu,language:this.language})})),(0,o.cp)(this.userForm).then((e=>{let{data:t}=e;console.log(t),this.setPerms(t.data.perms)})).catch((e=>{console.log("按钮权限没获取到！！！")})),this.$store.commit("setMenu",t.data.menu),this.$store.commit("addMenu",this.$router),this.$router.push("/home")):(console.log(t.data.message),this.$message.error("管理员账号为admin，密码任意"))}))}))}},mounted(){console.log("登录组件Login"),this.$message.error("管理员账号为admin，密码任意")}},u=i,c=a(1001),d=(0,c.Z)(u,n,s,!1,null,"78461437",null),m=d.exports},7831:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return O}});var n=function(){var e=this,t=e._self._c;return t("div",[t("el-container",[t("el-aside",{attrs:{width:"auto"}},[t("common-aside")],1),t("el-container",[t("el-header",[t("common-header")],1),t("common-tag"),t("el-main",[t("router-view")],1)],1)],1)],1)},s=[],r=function(){var e=this,t=e._self._c;return t("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"1-4-1","background-color":"#fff",collapse:e.isCollapse},on:{open:e.handleOpen,close:e.handleClose}},[t("h3",{staticClass:"bg-title"},[e._v(e._s(e.isCollapse?e.$t("common.s-background"):e.$t("common.background")))]),e._l(e.noChildren,(function(a){return t("el-menu-item",{key:a.name,attrs:{index:a.name},on:{click:function(t){return e.clickMenu(a)}}},[t("i",{class:`el-icon-${a.icon}`}),t("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.$t("sys."+a.name)))])])})),e._l(e.hasChildren,(function(a){return t("el-submenu",{key:a.label,attrs:{index:a.label}},[t("template",{slot:"title"},[t("i",{class:`el-icon-${a.icon}`}),t("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.$t("sys."+a.name)))])]),e._l(a.children,(function(a){return t("el-menu-item-group",{key:a.name},[t("el-menu-item",{attrs:{index:a.path},on:{click:function(t){return e.clickMenu(a)}}},[t("i",{class:`el-icon-${a.icon}`}),e._v(" "+e._s(e.$t("sys."+a.name))+" ")])],1)}))],2)}))],2)},o=[],l=(a(7658),a(680)),i={data(){return{}},methods:{handleOpen(e,t){},handleClose(e,t){},clickMenu(e){console.log(e),this.$route.path===e.path||"/home"===this.$route.path&&"/"===e.path||this.$router.push(e.path),this.$store.commit("selectMenu",e)}},computed:{noChildren(){return this.menuData.filter((e=>!e.children))},hasChildren(){return this.menuData.filter((e=>e.children))},isCollapse(){return this.$store.state.tab.isCollapse},menuData(){return this.$store.state.tab.menu||JSON.parse(l.Z.get("menu"))}}},u=i,c=a(1001),d=(0,c.Z)(u,r,o,!1,null,"e97581ec",null),m=d.exports,p=function(){var e=this,t=e._self._c;return t("div",{staticClass:"header-container"},[t("div",{staticClass:"l-content"},[t("el-button",{attrs:{icon:"el-icon-menu",size:"mini"},on:{click:e.handleMenu}}),t("el-breadcrumb",{attrs:{separator:"/"}},e._l(e.tags,(function(a){return t("el-breadcrumb-item",{key:a.path,attrs:{to:{path:a.path}}},[e._v(e._s(e.$t("sys."+a.name)))])})),1)],1),t("div",{staticClass:"r-content"},[t("el-dropdown",{staticClass:"language",on:{command:e.handleSelect}},[t("span",[e._v(" "+e._s(this.language)+" "),t("i",{staticClass:"el-icon-arrow-down"})]),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",{attrs:{command:"zh"}},[e._v("简体中文")]),t("el-dropdown-item",{attrs:{command:"en"}},[e._v("English")])],1)],1),t("el-dropdown",{on:{command:e.handleCommand}},[t("span",{staticClass:"el-dropdown-link"},[t("img",{staticClass:"user",attrs:{src:a(4353),alt:"me"}})]),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",{attrs:{command:"a"}},[e._v(e._s(e.$t("common.personal")))]),t("el-dropdown-item",{attrs:{command:"b"}},[e._v(e._s(e.$t("common.exit")))])],1)],1)],1)])},g=[],h=a(3822),f={data(){return{}},methods:{...(0,h.OI)(["clearMenu","clearTab","clearLoginData","clearPerms","setLanguage"]),handleMenu(){this.$store.commit("collapseMenu")},handleSelect(e){"zh"===e?(this.$i18n.locale="zh",this.setLanguage("简体中文")):(this.$i18n.locale="en",this.setLanguage("English"))},handleCommand(e){switch(e){case"a":console.log("个人信息");break;case"b":this.clearMenu(null),this.clearPerms(),this.clearTab(),this.clearLoginData(this.$i18n),this.$router.push("/login");break;default:break}}},computed:{...(0,h.rn)({tags:e=>e.tab.tabList,language:e=>e.user.userLoginData.language})},mounted(){}},v=f,b=(0,c.Z)(v,p,g,!1,null,"18242b9a",null),y=b.exports,_=function(){var e=this,t=e._self._c;return t("div",{staticClass:"tabs"},e._l(e.tags,(function(a,n){return t("el-tag",{key:a.label,attrs:{size:"small",closable:"home"!==a.name,effect:e.$route.name===a.name?"dark":"plain"},on:{click:function(t){return e.handleClick(a)},close:function(t){return e.handleClose(a,n)}}},[e._v(" "+e._s(e.$t("sys."+a.name))+" ")])})),1)},w=[],x={data(){return{}},computed:{...(0,h.rn)({tags:e=>e.tab.tabList})},methods:{...(0,h.OI)(["colseTab"]),handleClick(e){this.$router.push({name:e.name})},handleClose(e,t){const a=this.tags.length-1;this.colseTab(e),this.$route.name===e.name&&(t===a?this.$router.push({name:this.tags[t-1].name}):this.$router.push({name:this.tags[t].name}))}}},k=x,C=(0,c.Z)(k,_,w,!1,null,"812adf34",null),$=C.exports,D={data(){return{}},components:{CommonAside:m,CommonHeader:y,CommonTag:$}},S=D,L=(0,c.Z)(S,n,s,!1,null,"1642d4f9",null),O=L.exports},8307:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return u}});var n=function(){var e=this,t=e._self._c;return t("h1",[e._v("Mall")])},s=[],r={data(){return{}}},o=r,l=a(1001),i=(0,l.Z)(o,n,s,!1,null,"9718392e",null),u=i.exports},655:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return u}});var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"error"},[t("h1",[e._v("404")]),t("p",[e._v("您访问的地址不存在 "),t("i",{staticStyle:{"font-size":"1.5em"}},[e._v(e._s(e.count))]),e._v(" 秒内返回主页面")]),t("el-button",{attrs:{type:"primary"},on:{click:e.left}},[e._v("点击跳转到home")])],1)},s=[],r=(a(7658),{name:"NotFound",data(){return{timer:null,count:void 0}},watch:{$router(e,t){console.log(e,t,"$router")}},methods:{left(){this.$router.push("/home"),window.clearInterval(this.timer)},setTime(){this.count=5,this.timer=window.setInterval((()=>{this.count--,this.count<=0&&this.left()}),1e3)}},activated(){console.log("404组件被激活了"),this.setTime()},deactivated(){console.log("组件失活了"),this.left()}}),o=r,l=a(1001),i=(0,l.Z)(o,n,s,!1,null,"ef2375b0",null),u=i.exports},3799:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return u}});var n=function(){var e=this,t=e._self._c;return t("h1",[e._v("PageOne")])},s=[],r={data(){return{}}},o=r,l=a(1001),i=(0,l.Z)(o,n,s,!1,null,"863dba3a",null),u=i.exports},8430:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return u}});var n=function(){var e=this,t=e._self._c;return t("h1",[e._v("PageTwo")])},s=[],r={data(){return{}}},o=r,l=a(1001),i=(0,l.Z)(o,n,s,!1,null,"e42310ba",null),u=i.exports},5638:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return d}});var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"manage"},[t("el-dialog",{attrs:{title:0===e.modeType?"新增":"编辑",visible:e.dialogVisible,width:"40%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[t("el-form",{ref:"form",staticClass:"demo-form-inline",attrs:{inline:!0,rules:e.rules,model:e.form}},[t("el-form-item",{attrs:{label:"姓名",prop:"name"}},[t("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),t("el-form-item",{attrs:{label:"年龄",prop:"age"}},[t("el-input",{attrs:{placeholder:"请输入年龄"},model:{value:e.form.age,callback:function(t){e.$set(e.form,"age",e._n(t))},expression:"form.age"}})],1),t("el-form-item",{attrs:{label:"性别",prop:"sex"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}},[t("el-option",{attrs:{label:"男",value:1}}),t("el-option",{attrs:{label:"女",value:0}})],1)],1),t("el-form-item",{attrs:{label:"出生日期",prop:"birth"}},[t("el-date-picker",{attrs:{type:"date",placeholder:"选择日期时间","value-format":"yyyy-MM-DD"},model:{value:e.form.birth,callback:function(t){e.$set(e.form,"birth",t)},expression:"form.birth"}})],1),t("el-form-item",{attrs:{label:"地址",prop:"addr"}},[t("el-input",{attrs:{placeholder:"请输入地址"},model:{value:e.form.addr,callback:function(t){e.$set(e.form,"addr",t)},expression:"form.addr"}})],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:e.handleClose}},[e._v(e._s(e.$t("user.cancle")))]),t("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v(e._s(e.$t("user.confirm")))])],1)],1),t("div",{staticClass:"manage-header"},[t("el-button",{attrs:{type:"primary",disabled:!e.getPerms[0]},on:{click:function(t){e.dialogVisible=!0}}},[e._v(e._s(e.$t("user.add")))]),t("el-form",{attrs:{inline:!0,model:e.userForm}},[t("el-form-item",[t("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.userForm.name,callback:function(t){e.$set(e.userForm,"name",t)},expression:"userForm.name"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.getList}},[e._v(e._s(e.$t("user.search")))])],1)],1)],1),t("div",{staticClass:"common-table"},[t("el-table",{attrs:{data:e.tableData,stripe:"",height:"90%"}},[t("el-table-column",{attrs:{prop:"name",label:"姓名"}}),t("el-table-column",{attrs:{prop:"age",label:"年龄"}}),t("el-table-column",{attrs:{prop:"sex",label:"性别"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[e._v(e._s(1===a.row.sex?"男":"女"))])]}}])}),t("el-table-column",{attrs:{prop:"birth",label:"出生日期"}}),t("el-table-column",{attrs:{prop:"addr",label:"地址"}}),t("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{size:"mini",disabled:!e.getPerms[1]},on:{click:function(t){return e.handleEdit(a.row)}}},[e._v(e._s(e.$t("user.edit")))]),t("el-button",{attrs:{size:"mini",disabled:!e.getPerms[2],type:"danger"},on:{click:function(t){return e.handleDelete(a.row)}}},[e._v(e._s(e.$t("user.delete")))])]}}])})],1),t("div",{staticClass:"pager"},[t("el-pagination",{attrs:{layout:"prev, pager, next",total:e.total,"page-size":20},on:{"current-change":e.checkPage}})],1)],1)],1)},s=[],r=a(586),o=a(3822),l={data(){return{dialogVisible:!1,form:{name:"",age:"",sex:"",birth:"",addr:""},rules:{name:[{required:!0,message:"请输入姓名",trigger:"blur"},{min:1,max:5,message:"长度在 3 到 5 个字符",trigger:"blur"}],age:[{required:!0,message:"年龄不能为空",trigger:"blur"},{type:"number",message:"年龄必须为数字"}],sex:[{required:!0,message:"请选择性别",trigger:"change"}],birth:[{required:!0,message:"请选择日期",trigger:"change"}],addr:[{required:!0,message:"请输入地址",trigger:"blur"}]},tableData:[],modeType:0,total:0,pageData:{page:1,limit:20},userForm:{name:""}}},computed:{...(0,o.rn)({perms:e=>e.user.perms}),getPerms(){let e=this.perms||JSON.parse(sessionStorage.getItem("perms"));return e}},methods:{submit(){this.$refs.form.validate((e=>{e&&(0===this.modeType?(0,r.cn)(this.form).then((e=>{let{data:t}=e;console.log(t.data.message),this.getList()})):(0,r.uz)(this.form).then((e=>{let{data:t}=e;console.log(t.data.message),this.getList()})),this.handleClose())}))},handleClose(){this.$refs.form.resetFields(),this.dialogVisible=!1},handleAdd(){this.modeType=0,this.dialogVisible=!0},handleEdit(e){this.modeType=1,this.dialogVisible=!0,this.form=JSON.parse(JSON.stringify(e))},handleDelete(e){this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{console.log(e.id),(0,r.ti)({id:e.id}).then((e=>{let{data:t}=e;console.log(t.message),this.$message({type:"success",message:"删除成功!"}),this.getList()}))})).catch((()=>{this.$message({type:"info",message:"已取消删除"})}))},checkPage(e){this.pageData.page=e,this.getList()},getList(){(0,r.PR)({params:{...this.userForm,...this.pageData}}).then((e=>{this.tableData=e.data.list,this.total=e.data.count||0}))}},mounted(){this.getList()}},i=l,u=a(1001),c=(0,u.Z)(i,n,s,!1,null,"0ca489d4",null),d=c.exports},586:function(e,t,a){"use strict";a.d(t,{cn:function(){return u},ti:function(){return d},uz:function(){return c},am:function(){return g},cp:function(){return p},Yu:function(){return l},r7:function(){return m},PR:function(){return i}});var n=a(70),s=a(680);const r=n.ZP.create({baseURL:"/api",timeout:1e4});r.interceptors.request.use((function(e){const t=s.Z.get("token");return t&&(e.headers["Authorization"]=t),e}),(function(e){return Promise.reject(e)})),r.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)}));var o=r;const l=()=>o.get("/home/getData"),i=e=>o.get("/user/getUser",e),u=e=>o.post("/user/add",e),c=e=>o.post("/user/edit",e),d=e=>o.post("/user/del",e),m=e=>o.post("/permission/getMenu",e),p=e=>o.post("/permission/getBtn",e),g=e=>n.ZP.request({url:"/address"})},5555:function(e,t,a){"use strict";var n=a(7754),s=a.n(n),r=a(6369),o=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("keep-alive",{attrs:{include:"NotFound"}},[t("router-view")],1)],1)},l=[],i={name:"App"},u=i,c=a(1001),d=(0,c.Z)(u,o,l,!1,null,null,null),m=d.exports,p=a(2631),g=(a(1944),a(8307),a(5638),a(7831)),h=(a(3799),a(8430),a(6098)),f=a(655);r["default"].use(p.ZP);const v=p.ZP.prototype.push;p.ZP.prototype.push=function(e){return v.call(this,e).catch((e=>e))};const b=[{path:"/",component:g["default"],name:"Main",redirect:"/home",children:[]},{path:"/login",name:"login",component:h["default"]},{path:"*",name:"404",component:f["default"]}],y=new p.ZP({routes:b});var _=y,w=a(3822),x=(a(7658),a(680)),k={state:{isCollapse:!1,tabList:[{path:"/",name:"home",label:"首页",icon:"s-home",url:"Home/Home"}],menu:[]},mutations:{collapseMenu(e){e.isCollapse=!e.isCollapse},selectMenu(e,t){if("home"!==t.name){const a=e.tabList.findIndex((e=>e.name===t.name));-1===a&&e.tabList.push(t)}},colseTab(e,t){const a=e.tabList.findIndex((e=>e.name===t.name));e.tabList.splice(a,1)},clearTab(e,t){e.tabList=[{path:"/",name:"home",label:"首页",icon:"s-home",url:"Home/Home"}]},setMenu(e,t){e.menu=t,x.Z.set("menu",JSON.stringify(t))},clearMenu(e,t){e.menu=t,x.Z.remove("token"),x.Z.remove("menu")},addMenu(e,t){if(!x.Z.get("token"))return;if(!x.Z.get("menu"))return void console.log("cookie中不含有menu,请登录！");e.menu=JSON.parse(x.Z.get("menu"));const n=[];e.menu.forEach((e=>{e.children?(e.children=e.children.map((e=>(e.component=()=>a(6968)(`./${e.url}`),e))),n.push(...e.children)):(e.component=()=>a(6968)(`./${e.url}`),n.push(e))})),console.log(n,"获取当前角色路由"),n.forEach((e=>{t.addRoute("Main",e)}))}}},C={state:{userLoginData:{language:"简体中文",time:"",addr:"",name:"",role:"普通用户"},perms:null},mutations:{setLoginData(e,t){e.userLoginData.language=t.language;const a=new Date;e.userLoginData.time=a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate(),e.userLoginData.addr=t.address,e.userLoginData.name=t.username.trim()[0].toUpperCase()+t.username.substring(1),t.menu.forEach((t=>{"more"===t.name&&(e.userLoginData.role="超级管理员")})),window.sessionStorage.setItem("userLoginData",JSON.stringify(e.userLoginData))},clearLoginData(e,t){e.userLoginData={language:"简体中文",time:"",addr:"",name:"",role:"普通用户"},t.locale="zh",window.sessionStorage.removeItem("userLoginData")},setLanguage(e,t){e.userLoginData.language=t},setPerms(e,t){e.perms=t,window.sessionStorage.setItem("perms",JSON.stringify(e.perms))},clearPerms(e,t){e.perms=null,window.sessionStorage.removeItem("perms")}}};r["default"].use(w.ZP);var $=new w.ZP.Store({modules:{tab:k,user:C}}),D=a(7634),S=a.n(D);let L=[];var O={getStatisticalData:()=>{for(let e=0;e<7;e++)L.push(S().mock({"苹果":S().Random.float(100,8e3,0,0),"华为":S().Random.float(100,8e3,0,0),vivo:S().Random.float(100,8e3,0,0),oppo:S().Random.float(100,8e3,0,0),"魅族":S().Random.float(100,8e3,0,0),"三星":S().Random.float(100,8e3,0,0),"小米":S().Random.float(100,8e3,0,0)}));return{code:2e4,data:{videoData:[{name:"小米",value:2999},{name:"苹果",value:5999},{name:"华为",value:4800},{name:"vivo",value:1500},{name:"oppo",value:1999},{name:"魅族",value:2200},{name:"三星",value:4500}],userData:[{date:"周一",new:5,active:200},{date:"周二",new:10,active:500},{date:"周三",new:12,active:550},{date:"周四",new:60,active:800},{date:"周五",new:65,active:550},{date:"周六",new:53,active:770},{date:"周日",new:33,active:170}],orderData:{date:["20191001","20191002","20191003","20191004","20191005","20191006","20191007"],data:L},tableData:[{name:"苹果",todayBuy:800,monthBuy:4500,totalBuy:65e3},{name:"华为",todayBuy:600,monthBuy:4e3,totalBuy:5e4},{name:"oppo",todayBuy:500,monthBuy:3500,totalBuy:22e3},{name:"vivo",todayBuy:300,monthBuy:2200,totalBuy:24e3},{name:"小米",todayBuy:1200,monthBuy:6500,totalBuy:45e3},{name:"三星",todayBuy:300,monthBuy:2e3,totalBuy:34e3},{name:"魅族",todayBuy:350,monthBuy:3e3,totalBuy:22e3}]}}}};a(541);function M(e){const t=e.split("?")[1];return t?JSON.parse('{"'+decodeURIComponent(t).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}'):{}}let P=[];const Z=200;for(let R=0;R<Z;R++)P.push(S().mock({id:S().Random.guid(),name:S().Random.cname(),addr:S().mock("@county(true)"),"age|18-60":1,birth:S().Random.date(),sex:S().Random.integer(0,1)}));var B={getUserList:e=>{console.log(e,"config");const{name:t,page:a=1,limit:n=20}=M(e.url);console.log("name:"+t,"page:"+a,"分页大小limit:"+n);const s=P.filter((e=>!t||-1!==e.name.indexOf(t)||-1!==e.addr.indexOf(t))),r=s.filter(((e,t)=>t<n*a&&t>=n*(a-1)));return{code:2e4,count:s.length,list:r}},createUser:e=>{const{name:t,addr:a,age:n,birth:s,sex:r}=JSON.parse(e.body);return console.log(JSON.parse(e.body),"createUser"),P.unshift({id:S().Random.guid(),name:t,addr:a,age:n,birth:s,sex:r}),{code:2e4,data:{message:"添加成功"}}},deleteUser:e=>{const{id:t}=JSON.parse(e.body);return t?(P=P.filter((e=>e.id!==t)),{code:2e4,message:"删除成功"}):{code:-999,message:"参数不正确"}},batchremove:e=>{let{ids:t}=M(e.url);return t=t.split(","),P=P.filter((e=>!t.includes(e.id))),{code:2e4,data:{message:"批量删除成功"}}},updateUser:e=>{const{id:t,name:a,addr:n,age:s,birth:r,sex:o}=JSON.parse(e.body),l=parseInt(o);return P.some((e=>{if(e.id===t)return e.name=a,e.addr=n,e.age=s,e.birth=r,e.sex=l,!0})),{code:2e4,data:{message:"编辑成功"}}}},F={getMenu:e=>{const{username:t,password:a}=JSON.parse(e.body);return"admin"===t?{code:2e4,data:{menu:[{path:"/home",name:"home",label:"首页",icon:"s-home",url:"Home.vue"},{path:"/mall",name:"mall",label:"商品管理",icon:"news",url:"Mall.vue"},{path:"/user",name:"user",label:"用户管理",icon:"user",url:"User.vue"},{label:"其他",name:"more",icon:"guide",children:[{path:"/page1",name:"page1",label:"页面1",icon:"grape",url:"PageOne"},{path:"/page2",name:"page2",label:"页面2",icon:"watermelon",url:"PageTwo"}]}],token:S().Random.guid(),message:"获取成功"}}:""!==t?{code:2e4,data:{menu:[{path:"/home",name:"home",label:"首页",icon:"s-home",url:"Home.vue"},{path:"/mall",name:"mall",label:"商品管理",icon:"news",url:"Mall.vue"},{path:"/user",name:"user",label:"用户管理",icon:"user",url:"User.vue"}],token:S().Random.guid(),message:"获取成功"}}:{code:-999,data:{message:"密码错误"}}},getBtn:e=>{const{username:t,password:a}=JSON.parse(e.body);return"admin"===t?{code:2e4,data:{perms:[!0,!0,!0],message:"获取成功"}}:""!==t?{code:2e4,data:{perms:[!1,!0,!1],message:"获取成功"}}:{code:-999,data:{message:"密码错误"}}},getAddr:e=>({code:2e4,data:{address:"中国 福建 福州",message:"获取成功"}})};S().mock("/api/home/getData",O.getStatisticalData),S().mock("/api/user/add","post",B.createUser),S().mock("/api/user/edit","post",B.updateUser),S().mock("/api/user/del","post",B.deleteUser),S().mock(/api\/user\/getUser/,"get",B.getUserList),S().mock(/permission\/getMenu/,"post",F.getMenu),S().mock(/permission\/getBtn/,"post",F.getBtn),S().mock(/address/,"get",F.getAddr);var T=a(6018);r["default"].use(T.Z);const N=new T.Z({locale:"zh",messages:{zh:a(5483),en:a(3560)}});var U=N;r["default"].config.productionTip=!1,r["default"].use(s()),_.beforeEach(((e,t,a)=>{const n=x.Z.get("token");n||"login"===e.name?n&&"login"===e.name?a({name:"home"}):a():a({name:"login"})})),new r["default"]({router:_,store:$,i18n:U,render:e=>e(m),created(){$.commit("addMenu",_)}}).$mount("#app")},6968:function(e,t,a){var n={"./Home":1944,"./Home.vue":1944,"./Login":6098,"./Login.vue":6098,"./Main":7831,"./Main.vue":7831,"./Mall":8307,"./Mall.vue":8307,"./NotFound":655,"./NotFound.vue":655,"./PageOne":3799,"./PageOne.vue":3799,"./PageTwo":8430,"./PageTwo.vue":8430,"./User":5638,"./User.vue":5638};function s(e){return Promise.resolve().then((function(){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}var s=n[e];return a(s)}))}s.keys=function(){return Object.keys(n)},s.id=6968,e.exports=s},4353:function(e,t,a){"use strict";e.exports=a.p+"img/user.786b6732.png"},3560:function(e){"use strict";e.exports=JSON.parse('{"common":{"s-background":"M-S","background":"Manage System","sign-in":"Sign in Manage System","login":"Sign in","personal":"Personal","exit":"Exit"},"sys":{"home":"Home","mall":"Mall Manage","user":"User Manage","more":"More","page1":"Page One","page2":"Page Two"},"user":{"search":"Search","add":"+Add","edit":"Edit","delete":"Delete","confirm":"Confirm","cancle":"Cancle"}}')},5483:function(e){"use strict";e.exports=JSON.parse('{"common":{"s-background":"后台","background":"后台管理系统","sign-in":"系统登录","login":"登录","personal":"个人中心","exit":"退出"},"sys":{"home":"首页","mall":"商品管理","user":"用户管理","more":"其他","page1":"页面一","page2":"页面二"},"user":{"search":"搜索","add":"+新增","edit":"编辑","delete":"删除","confirm":"确认","cancle":"取消"}}')}},t={};function a(n){var s=t[n];if(void 0!==s)return s.exports;var r=t[n]={exports:{}};return e[n].call(r.exports,r,r.exports,a),r.exports}a.m=e,function(){var e=[];a.O=function(t,n,s,r){if(!n){var o=1/0;for(c=0;c<e.length;c++){n=e[c][0],s=e[c][1],r=e[c][2];for(var l=!0,i=0;i<n.length;i++)(!1&r||o>=r)&&Object.keys(a.O).every((function(e){return a.O[e](n[i])}))?n.splice(i--,1):(l=!1,r<o&&(o=r));if(l){e.splice(c--,1);var u=s();void 0!==u&&(t=u)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[n,s,r]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.e=function(){return Promise.resolve()}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/vue-manage-system/"}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,n){var s,r,o=n[0],l=n[1],i=n[2],u=0;if(o.some((function(t){return 0!==e[t]}))){for(s in l)a.o(l,s)&&(a.m[s]=l[s]);if(i)var c=i(a)}for(t&&t(n);u<o.length;u++)r=o[u],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(c)},n=self["webpackChunkmy_app"]=self["webpackChunkmy_app"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[998],(function(){return a(5555)}));n=a.O(n)})();
//# sourceMappingURL=app.23c2cb39.js.map